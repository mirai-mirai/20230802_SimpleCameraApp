作るもの

スタートボタン：カメラ画像を表示
ストップボタン：カメラ停止
セレクト：カメラデバイスを選択する

実装完了

https://github.com/mirai-mirai/20230802_SimpleCameraApp

pagesで公開

publicにする必要がある
どうやってPublicにする？？

Settings => Danger Zone => Change repository visibility

Pagesからdocsを有効にする

docsフォルダ作成する

docsフォルダにコンパイルするようにする
vite.config.tsの修正

ビルド後にpublishする

自動化できないか？？

下記の通り修正してビルドしてSynsする
export default defineConfig({
  // github pagesの変な仕様（ルートが１つ上）に対応する
  base: '/20230802_SimpleCameraApp/',
  plugins: [vue()],
  build: {
    outDir: 'docs', // ビルド出力先を変更
    rollupOptions: {
      output: {
        assetFileNames: '[name]-[hash][extname]',
        chunkFileNames: '[name]-[hash].js', // JSをルートに出力
        entryFileNames: '[name]-[hash].js', // JSをルートに出力
      },
    },
  },
})

ビルドコマンドをf5に割り当てる

keybindings.jsonに以下を書けばよい
{
    "key": "ctrl+f5",
    "command": "workbench.action.terminal.sendSequence",
    "args": {
        "text": "npm run build\r"
    },
},

To find keybindings.json. Open command pallete (Usually ctrl + shift + P or cmd + shift + P) then look for "Preferences: Open Keyboard Shortcuts (JSON)". Make sure it's the one with (JSON). 

それかこのやり方

.vscode/tasks.json

{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "build",
      "type": "shell",
      "command": "npm run build",
      "group": {
        "kind": "build",
        "isDefault": true
      }
    }
  ]
}

.vscode/keybindings.json
File > Preferences > Keyboard Shortcuts

[
    {
        "key" : "ctrl+s",
        "command" : "workbench.action.tasks.build"
    }
]


Ctrl+P => Open keybindings JSONでファイル開いて以下を追加するだけでOK
    {
        "key": "Ctrl+Shift+s",
        "command": "workbench.action.tasks.build",
    }
    
毎回ビルドコマンドを選ぶのが面倒やけど

自動で.vscode/tasks.jsonが生成された？？
自分で作った？？


消してみるか

{
	"version": "2.0.0",
	"tasks": [
		{
			"type": "npm",
			"script": "build",
			"group": "build",
			"problemMatcher": [],
			"label": "npm: build",
			"detail": "vue-tsc && vite build"
		}
	]
}
消してみた


普通に動いてる！！
いらんかった。

結局keybind設定するだけでOKやった

本当はgithubのSyncもやりたいけど

git pushでいけた？？？

じゃあ、そのコマンドをpackage.jsonにかいておけばよいか？？

いちおうgithubを確認してみる

